jQuery(document).ready(function(p){var i=p("#cancel-comment-reply-link"),s=i.text(),c="commentlist";p(document).on("submit","#commentform",function(){return p.ajax({url:ajaxcomment.ajax_url,data:p(this).serialize()+"&action=ajax_comment",type:p(this).attr("method"),beforeSend:addComment.createButterbar("提交中...."),error:function(e){var t;addComment.createButterbar(e.responseText)},success:function(e){p("textarea").each(function(){this.value=""});var t=addComment,r=t.I("cancel-comment-reply-link"),n=t.I("wp-temp-form-div"),o=t.I(t.respondId),a=t.I("comment_post_ID").value,m;"0"!=t.I("comment_parent").value?p("#respond").before('<ol class="children">'+e+"</ol>"):p("."+c).length?"asc"==ajaxcomment.order?p("."+c).append(e):p("."+c).prepend(e):"bottom"==ajaxcomment.formpostion?p("#respond").before('<ol class="'+c+'">'+e+"</ol>"):p("#respond").after('<ol class="'+c+'">'+e+"</ol>"),t.createButterbar("提交成功"),r.style.display="none",r.onclick=null,t.I("comment_parent").value="0",n&&o&&(n.parentNode.insertBefore(o,n),n.parentNode.removeChild(n))}}),!1}),addComment={moveForm:function(e,t,r){var n=this,o,a=n.I(e),m=n.I(r),c=n.I("cancel-comment-reply-link"),d=n.I("comment_parent"),l=n.I("comment_post_ID");i.text(s),n.respondId=r,n.I("wp-temp-form-div")||((o=document.createElement("div")).id="wp-temp-form-div",o.style.display="none",m.parentNode.insertBefore(o,m)),a?a.parentNode.insertBefore(m,a.nextSibling):(temp=n.I("wp-temp-form-div"),n.I("comment_parent").value="0",temp.parentNode.insertBefore(m,temp),temp.parentNode.removeChild(temp)),p("body").animate({scrollTop:p("#respond").offset().top-180},400),d.value=t,c.style.display="",c.onclick=function(){var e=addComment,t=e.I("wp-temp-form-div"),r=e.I(e.respondId);return e.I("comment_parent").value="0",t&&r&&(t.parentNode.insertBefore(r,t),t.parentNode.removeChild(t)),this.style.display="none",this.onclick=null,!1};try{n.I("comment").focus()}catch(e){}return!1},I:function(e){return document.getElementById(e)},clearButterbar:function(e){0<p(".butterBar").length&&p(".butterBar").remove()},createButterbar:function(e){var t;this.clearButterbar(),p("body").append('<div class="butterBar butterBar--center"><p class="butterBar-message">'+e+"</p></div>"),setTimeout("jQuery('.butterBar').remove()",3e3)}}});
